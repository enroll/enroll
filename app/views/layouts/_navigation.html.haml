%header.navbar.navbar-fixed-top.navbar-inverse
  %nav.navbar-inner
    .container-fluid
      = link_to "enroll", root_path, :class => 'navbar-brand'
      - if user_signed_in?
        = render 'layouts/course_chooser'
        = render 'layouts/settings_menu'
      - else
        %ul#sign-up-or-in.nav.navbar-nav.pull-right
          %li
            %a.btn-log-in{href: '#sign-up-or-in', "data-toggle" => "collapse", "data-target" => "#log-in"}
              Log In
          %li
            %a.btn-sign-up{href: '#sign-up-or-in', "data-toggle" => "collapse", "data-target" => "#sign-up"}
              Sign Up

- unless user_signed_in?
  #sign-up.collapse{class: nav_signupbox_class}
    .container
      .row
        = simple_form_for(@user || User.new, url: registration_path(:user), wrapper: "bootstrap-horizontal", html: {class: "form-horizontal"}) do |f|
          = f.simple_fields_for @course do |c|
            = c.input :name, required: false, autofocus: true, label: "Course Name",
                      label_html: { class: 'control-label col-md-2' },
                      input_html: { class: 'course-title-popover' }
            = f.input :email, label_html: { class: 'control-label col-md-2' }
            = f.input :password, label_html: { class: 'control-label col-md-2' }
            .row
              .col-md-12
                = f.button :submit, "Sign Up To Teach", class: "btn-primary pull-right"

  #log-in.collapse{class: nav_loginbox_class}
    .container
      .row
        - if flash.alert
          .alert.alert-danger
            %strong Oops!
            = flash.alert

        = simple_form_for(:user, url: session_path(:user), wrapper: "bootstrap-horizontal", html: {class: "form-horizontal"}) do |f|
          = f.input :email, :required => false, :autofocus => true, label_html: { class: 'control-label col-md-2' }
          = f.input :password, :required => false, label_html: { class: 'control-label col-md-2' }
          .col-md-offset-2
            .checkbox
              %label
                = f.input_field :remember_me, as: :boolean
                Remember me
          .row
            .col-md-12
              = f.button :submit, "Sign in", class: "btn-primary pull-right"
